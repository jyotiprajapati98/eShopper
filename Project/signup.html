<html>
    <head>
       <script src="jquery.min.js"></script>
     <script src="bootstrap.min.js"></script>
     <link href="bootstrap.min.css" rel="stylesheet">
     <link rel="stylesheet" href="css/signup.css">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.js"></script>
  </head>

  <body>
    <nav class="navbar navbar-inverse" style="background-color: #212529">
  <div class="container-fluid">
    <div class="navbar-header">
      <a  style="color: yellow;" class="navbar-brand" href="#">eShopper</a>
    </div>
    <ul class="nav navbar-nav">
      <li><a href="home.html">Home</a></li>
     
        
        </ul>
        <ul class="nav navbar-nav navbar-right">
       <li><a href="aboutus.html">About us</a></li>
       <script>

        if(sessionStorage.getItem("user_role")!=null){
                  document.write(' <li><a href="logout.html">Logout</a></li> ');
                }
                else{
                  document.write(' <li><a href="signup.html">Sign Up</a></li><li><a href="login.html">Login</a></li>');
        
                }
              </script>
        
    </ul> 
  </div>
</nav>


<div class="row1">
<div class="row2">
  <div class="col1"></div>
  <div class="col2">
    <center><h1 class="h1">Please fill the required fields!</h1></center>
  
    <form>

      <div class="form-group row">
        <label class="col-sm-2 col-form-label">Name</label>
        <div class="col-sm-10">
            <input required placeholder="Product Name" class="form-control"  type="text" id="uname" name="uname" /><br>
        </div> 
        </div>   

         

          <div class="form-group row">
            <label class="col-sm-2 col-form-label"> E-mail</label>
            <div class="col-sm-10">
                <input required placeholder="Enter-Your-Email" class="form-control"  type="text" id="uemail" name="uemail" /><br>
            </div> 
            </div> 
            
            <div class="form-group row">
              <label class="col-sm-2 col-form-label">Password</label>
              <div class="col-sm-10">
                <input class="form-control" type="Password" placeholder="Enter-Your-Password" id="upwd" name="upwd" required>
              </div> 
              </div>   
               <div class="form-group row">
          <label class="col-sm-2 col-form-label">Confirm Password</label>
          <div class="col-sm-10">
            <input class="form-control" type="Password" placeholder="Enter-Your-Confirm-Password" id="ucpwd" name="ucpwd" required>
          </div> 
          </div>

          <div class="form-group row">
            <label class="col-sm-2 col-form-label">Role</label>
            <div class="col-sm-10">


                <select required class="form-control" name="urole" id="urole">

                    <option selected="selected">Buyer</option>
                    <option>Seller</option>
                    </select><br>   
                            </div> 
            </div>   

  
    
    <!-- <input type="checkbox" checked="checked" name="remember"> Remember me! -->
    <button id="submitbtn" name="submitbtn" type="submit">Submit</button></form>
  
  </div>
</div>





<script>
                 

  const url = 'http://localhost:3000/users'
  
  submitbtn.onclick = function (e) {

    
if(upwd.value!=ucpwd.value){
  alert("Password Mismatched!");
  window.location.href="signup.html";
} 
e.preventDefault();

addUser();

  
    
  };
  
  
  function addUser() {
    var count = parseInt(localStorage.getItem("countuid")) + 1;
 localStorage.setItem("countuid",count);
  var id = count;   
 
    let name = uname.value;
    let email = uemail.value;
    let password = upwd.value;
   let role = urole.value;
    axios.post(url, {
      id,
      name,
      email,
      password,
      role
    })
      .then(function () { alert("Record Inserted!");  window.location.href = "home.html"; }).catch(function (er) { alert("Error!"); console.error(er) });
  }
  
  
  </script>
  



<!-- Footer -->
<div class="footer">

  <!-- Footer Elements -->
  <div class="container">

    <!-- Call to action -->
    <ul class="list-unstyled list-inline text-center py-2">
      <li class="list-inline-item">
        <h5 class="mb-1">Register for free</h5>
      </li>
      <li class="list-inline-item">
        <a href="signup.html" class="btn btn-primary">Sign up!</a><br>
      </li>
    </ul>
    <!-- Call to action -->

  </div>
  <!-- Footer Elements -->

  <!-- Copyright -->
  <div class="footer">Â© 2020 Copyright:
    <a href="home.html">eShopper.com</a>
  </div>
  <!-- Copyright -->

</div>
<!-- Footer -->
     </div>
  </body>
</html>